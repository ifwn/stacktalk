    # QR-bridge GET health check + POST init + any /qr-login* calls
    location ^~ /qr-login/ {

        limit_req zone=qr burst=20 nodelay;

        # preserve the full path, e.g. /qr-login-init → /qr-login-init
        proxy_pass         http://127.0.0.1:8000;

        # ──────── (NEW) sane proxy time-outs ────────
        proxy_connect_timeout 5s;
        proxy_read_timeout    30s;

        proxy_set_header Host              $host;
        proxy_set_header X-Real-IP         $remote_addr;
        proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }